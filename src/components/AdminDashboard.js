import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { Plus, Trash2, Copy, Search, LogOut, MapPin, Check } from 'lucide-react';
export const AdminDashboard = ({ cafes, onAddCafe, onDeleteCafe, onBack }) => {
    const [searchTerm, setSearchTerm] = useState('');
    const [copiedId, setCopiedId] = useState(null);
    const filteredCafes = cafes.filter(c => c.name.includes(searchTerm) || c.location.includes(searchTerm));
    const copyToClipboard = (text) => {
        navigator.clipboard.writeText(text);
        setCopiedId(text);
        setTimeout(() => setCopiedId(null), 2000);
    };
    return (_jsxs("div", { className: "min-h-screen bg-gray-50 flex flex-col", children: [_jsx("header", { className: "bg-coffee-900 text-white py-4 px-6 shadow-md", children: _jsxs("div", { className: "max-w-7xl mx-auto flex justify-between items-center", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx("h1", { className: "text-xl font-bold", children: "\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0625\u062F\u0627\u0631\u0629" }), _jsx("span", { className: "bg-coffee-800 px-2 py-1 rounded text-xs text-coffee-100", children: "Admin" })] }), _jsxs("button", { onClick: onBack, className: "text-sm bg-coffee-800 hover:bg-coffee-700 px-3 py-2 rounded-lg flex items-center gap-2 transition-colors", children: [_jsx(LogOut, { size: 16 }), "\u062E\u0631\u0648\u062C"] })] }) }), _jsxs("main", { className: "flex-1 max-w-7xl mx-auto w-full p-6", children: [_jsxs("div", { className: "flex flex-col md:flex-row justify-between items-center mb-8 gap-4", children: [_jsxs("div", { className: "relative w-full md:w-96", children: [_jsx("input", { type: "text", placeholder: "\u0628\u062D\u062B \u0639\u0646 \u0645\u0642\u0647\u0649...", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "w-full p-3 pr-10 rounded-xl border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-coffee-500" }), _jsx(Search, { className: "absolute right-3 top-1/2 -translate-y-1/2 text-gray-400", size: 18 })] }), _jsxs("button", { onClick: onAddCafe, className: "bg-coffee-600 text-white px-4 py-3 rounded-xl font-bold hover:bg-coffee-700 transition-colors flex items-center gap-2 shadow-sm w-full md:w-auto justify-center", children: [_jsx(Plus, { size: 20 }), "\u0625\u0636\u0627\u0641\u0629 \u0645\u0642\u0647\u0649 \u062C\u062F\u064A\u062F"] })] }), _jsx("div", { className: "bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden", children: _jsx("div", { className: "overflow-x-auto", children: _jsxs("table", { className: "w-full text-right", children: [_jsx("thead", { className: "bg-gray-50 text-gray-600 text-sm font-bold", children: _jsxs("tr", { children: [_jsx("th", { className: "p-4", children: "\u0627\u0644\u0645\u0642\u0647\u0649" }), _jsx("th", { className: "p-4", children: "\u0627\u0644\u0645\u0648\u0642\u0639" }), _jsx("th", { className: "p-4", children: "\u0643\u0648\u062F \u0627\u0644\u0648\u0635\u0648\u0644 (\u0627\u0644\u0645\u062F\u064A\u0631)" }), _jsx("th", { className: "p-4 text-center", children: "\u0627\u0644\u062D\u0627\u0644\u0629" }), _jsx("th", { className: "p-4 text-center", children: "\u0625\u062C\u0631\u0627\u0621\u0627\u062A" })] }) }), _jsxs("tbody", { className: "divide-y divide-gray-100", children: [filteredCafes.map((cafe) => (_jsxs("tr", { className: "hover:bg-gray-50/50 transition-colors", children: [_jsx("td", { className: "p-4", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "w-10 h-10 rounded-lg bg-gray-100 overflow-hidden", children: _jsx("img", { src: cafe.imageUrl, alt: cafe.name, className: "w-full h-full object-cover" }) }), _jsxs("div", { children: [_jsx("div", { className: "font-bold text-gray-900", children: cafe.name }), _jsxs("div", { className: "text-xs text-gray-400", children: [cafe.menu.length, " \u0623\u0635\u0646\u0627\u0641"] })] })] }) }), _jsx("td", { className: "p-4 text-sm text-gray-600", children: _jsxs("div", { className: "flex items-center gap-1", children: [_jsx(MapPin, { size: 14, className: "text-gray-400" }), cafe.location] }) }), _jsx("td", { className: "p-4", children: _jsxs("div", { className: "flex items-center gap-2 bg-gray-100 w-fit px-2 py-1 rounded border border-gray-200", children: [_jsx("code", { className: "text-xs font-mono text-gray-600 dir-ltr", children: cafe.id }), _jsx("button", { onClick: () => copyToClipboard(cafe.id), className: "text-gray-400 hover:text-coffee-600", title: "\u0646\u0633\u062E \u0627\u0644\u0643\u0648\u062F", children: copiedId === cafe.id ? _jsx(Check, { size: 14, className: "text-green-500" }) : _jsx(Copy, { size: 14 }) })] }) }), _jsx("td", { className: "p-4 text-center", children: _jsx("span", { className: `text-xs px-2 py-1 rounded-full font-bold ${cafe.isOpen ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`, children: cafe.isOpen ? 'مفتوح' : 'مغلق' }) }), _jsx("td", { className: "p-4 text-center", children: _jsx("button", { onClick: () => {
                                                                if (window.confirm('هل أنت متأكد من حذف هذا المقهى؟')) {
                                                                    onDeleteCafe(cafe.id);
                                                                }
                                                            }, className: "text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition-colors", title: "\u062D\u0630\u0641", children: _jsx(Trash2, { size: 18 }) }) })] }, cafe.id))), filteredCafes.length === 0 && (_jsx("tr", { children: _jsx("td", { colSpan: 5, className: "p-8 text-center text-gray-400", children: "\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0642\u0627\u0647\u064A \u0645\u0637\u0627\u0628\u0642\u0629 \u0644\u0644\u0628\u062D\u062B" }) }))] })] }) }) })] })] }));
};
